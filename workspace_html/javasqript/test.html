<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
   
</head>
<body>
    <a href="#" onclick="simulateF5(event)">F5 ìƒˆë¡œê³ ì¹¨</a>


<script>
    document.addEventListener('DOMContentLoaded', function () {
        document.querySelector('#btn3').addEventListener('click', function () {
            const serviceKey = 'ffB41D%2FkKVWbkLs4ZqHhto%2FPIsIaIuid0OPZPrj%2B0B0SDgb06uMZiJAnvwo5gGaCj%2FKX%2FaVRI4Z%2FxnbS8n%2FLmw%3D%3D';
            let url = 'https://apis.data.go.kr/1360000/VilageFcstInfoService_2.0/getUltraSrtFcst';
            url += `?serviceKey=${serviceKey}`;
            url += '&numOfRows=1000';
            url += '&pageNo=1';
            url += '&dataType=JSON';
            url += '&base_date=20250714'; // ì˜ˆ: ì˜¤ëŠ˜ ë‚ ì§œ
            url += '&base_time=1400';     // ì˜ˆ: ìµœê·¼ ë°œí‘œ ì‹œê°
            url += '&nx=63';
            url += '&ny=110';

            fetch(url)
                .then(response => response.json())
                .then(data => {
                    const items = data.response.body.items.item;

                    // 17:00 ë°ì´í„°ë§Œ í•„í„°ë§
                    const filtered = items.filter(item => item.fcstTime === '1700');

                    // í•„ìš”í•œ ê°’ ì¶”ì¶œ
                    const temperature = filtered.find(item => item.category === 'T1H');
                    const rainfall    = filtered.find(item => item.category === 'RN1');
                    const humidity    = filtered.find(item => item.category === 'REH');

                    console.log('ğŸŒ¡ï¸ ì˜¨ë„:', temperature?.fcstValue ?? 'ì—†ìŒ');
                    console.log('â˜” ê°•ìˆ˜ëŸ‰:', rainfall?.fcstValue ?? 'ì—†ìŒ');
                    console.log('ğŸ’§ ìŠµë„:', humidity?.fcstValue ?? 'ì—†ìŒ');
                })
                .catch(error => {
                    console.error('ì—ëŸ¬ ë°œìƒ:', error);
                });
        });
    });

</script>
</body>
</html>